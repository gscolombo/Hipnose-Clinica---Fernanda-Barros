(()=>{"use strict";function e(e){const t=document.querySelector(e),[n,r]=Array.from(t.querySelectorAll("button")),o=Array.from(t.querySelectorAll("figure"));let i={current:0,prev:o.length-1,next:1};function c(e){"previous"===e?i={current:i.prev,prev:i.prev-1>=0?i.prev-1:o.length-1,next:o[i.prev+1]?i.prev+1:0}:"next"===e&&(i={current:i.next,prev:0===i.next?o.length-1:i.current,next:i.next===o.length-1?0:i.next+1})}n.addEventListener("click",(function(e){const t=o[i.current],n=o[i.prev];t.style.animation="FadeInFromRight 0.25s reverse forwards",n.style.animation="FadeInFromLeft 0.25s forwards",setTimeout((()=>{t.classList.remove("active"),n.classList.add("active"),c("previous"),setTimeout((()=>{t.style.animation="",n.style.animation=""}),250)}),250)})),r.addEventListener("click",(function(e){const t=o[i.current],n=o[i.next];t.style.animation="FadeInFromLeft 0.25s reverse forwards",n.style.animation="FadeInFromRight 0.25s forwards",setTimeout((()=>{t.classList.remove("active"),n.classList.add("active"),c("next"),setTimeout((()=>{t.style.animation="",n.style.animation=""}),250)}),250)}))}function t(e,t){let n;return()=>{clearTimeout(n),n=setTimeout(e,t)}}function n(e){const t=e.currentTarget.parentElement,n=t.querySelector(".content"),r=n.querySelector("h2").clientHeight,o=n.querySelector("p").clientHeight;t.classList.toggle("active"),t.classList.contains("active")?n.style.height=r+o+24+"px":n.style.height=r+"px"}!function(){const e=document.querySelector(".entrance nav"),n=document.querySelector(".svg-sandwich-container"),r=document.querySelector(".entrance-sub-resume"),o=document.querySelector(".hipnoterapy-presentation");o.style.marginTop=Math.ceil(r.clientHeight-.15*innerHeight)+"px";const i=document.querySelector(".entrance nav ul");i.style.top=e.clientHeight+1+"px",window.innerWidth>1024?n.style.display="none":n.style.display="flex",onresize=t((()=>{o.style.marginTop=Math.ceil(r.clientHeight-.15*innerHeight)+"px",i.style.top=e.clientHeight+1+"px",window.innerWidth>1024?n.style.display="none":n.style.display="flex"}),50)}(),e(".testimonial-slide"),e(".portrait-slide"),function(){const e=document.querySelector(".entrance nav"),n=Array.from(e.querySelectorAll("li a")),r=Array.from(document.querySelectorAll("body > section")),o=r.find((e=>"faq"===e.id)),i=Array.from(o.querySelectorAll("ul li")),c=e.querySelector("svg .bar"),s=Array.from(document.querySelectorAll(".buttonContainer"));s.pop(),c.setAttribute("y",e.clientHeight-1);let l=a(r);function a(t){return t.map((t=>[t.offsetTop-e.clientHeight<0?0:t.offsetTop-e.clientHeight,t.offsetTop+t.clientHeight-1-e.clientHeight]))}function u(){setTimeout((()=>{l=a(r)}),250)}function d(e){e.classList.add("active"),n.forEach((t=>{t.classList.remove("active"),t.id===e.id&&(t.classList.add("active"),c.setAttribute("style",`transform: translate3d(${t.getBoundingClientRect().left+80}px, 0, 0)`))})),e===r[0]&&c.setAttribute("style","transform: translate3d(-80px, 0, 0); transition: transform 0.5s")}const m=document.querySelector(".svg-sandwich-container"),f=document.querySelector(".entrance nav ul");m.addEventListener("click",(e=>{e.currentTarget.classList.toggle("active"),f.classList.toggle("show-menu")})),onresize=t((()=>{l=a(r)}),25),document.addEventListener("scroll",t((function(){l=a(r);const t=Math.ceil(scrollY),n=l.findIndex((e=>t<e[1]&&t>=e[0])),o=r[n];o&&d(o),t>r[0].clientHeight/3?e.classList.add("toggle-color"):e.classList.remove("toggle-color")}),50)),n.forEach((e=>e.addEventListener("click",(e=>{!function(e){const t=e.currentTarget,n=Math.ceil(scrollY),o=r.findIndex((e=>e.id===t.id));c.setAttribute("style",`transform: translateX(${Math.floor(t.getBoundingClientRect().left)+80}px)`),scrollTo(0,l[o][0]),n===l[o][0]&&d(r[o])}(e),m.classList.toggle("active"),f.classList.toggle("show-menu")})))),i.forEach((e=>e.addEventListener("click",u))),s.forEach((e=>e.addEventListener("click",(()=>{e.classList.contains("to-contact")?scrollTo(0,l[r.length-1][0]):scrollTo(0,l[r.length-2][0])}))))}(),Array.from(document.querySelectorAll(".faq ul li")).forEach((e=>{const t=e.querySelector(".content"),r=t.querySelector("h2").clientHeight;t.style.height=r+"px",e.querySelector("button").addEventListener("click",n)})),function(){const e=document.querySelector(".contact form"),t=e.querySelectorAll(".inputContainer input, .inputContainer textarea"),n=document.querySelector(".contact .buttonContainer");function r(e){const t=e.currentTarget,r=t.nextElementSibling;""!==t.value?r.classList.add("active"):r.classList.remove("active"),n.classList.remove("error"),n.style="",n.querySelector("button").innerText="ENVIAR",t.classList.remove("error"),t.parentElement.nextElementSibling instanceof HTMLSpanElement&&t.parentElement.nextElementSibling.remove()}n.addEventListener("click",(async function t(n){const r=n.currentTarget,o=n.currentTarget.querySelector("button"),i=new FormData(e),c=Object.fromEntries(i),s=document.createElement("span");if(""!==c.name&&""!==c.email&&""!==c.message){o.innerText=" ",r.classList.add("clicked","loading");const n=await fetch("sendEmail.php",{method:"POST",headers:{"Content-Type":"multipart/form-data"},body:JSON.stringify(c)});if(r.classList.remove("loading"),n.ok)r.classList.add("success"),o.innerText="ENVIADO",s.innerText="Obrigado! Em breve entraremos em contato!",r.removeEventListener("click",t);else if(r.classList.add("error"),r.style.pointerEvents="none",o.innerText="ERRO",500===n.status)s.innerText="Erro ao enviar o e-mail. Por favor, mande uma mensagem diretamente para hipnoterapiabarros520@gmail.com",r.removeEventListener("click",t),r.insertAdjacentElement("afterend",s);else{const t=e.querySelector("input[type='email']");t.classList.add("error"),t.parentElement.insertAdjacentElement("afterend",s),s.innerText="Digite um e-mail válido"}}else e.querySelectorAll("textarea, input").forEach((e=>{const t=document.createElement("span");e.parentElement.nextElementSibling instanceof HTMLSpanElement&&e.parentElement.nextElementSibling.remove(),""===e.value?(e.classList.add("error"),t.textContent="*Campo obrigatório",e.parentElement.insertAdjacentElement("afterend",t)):e.classList.remove("error")}))})),t.forEach((e=>e.addEventListener("input",r)))}(),function(){const e=document.querySelector(".specialties ul"),t=Array.from(e.querySelectorAll("li")).map((e=>e.offsetLeft-(window.innerWidth-e.offsetWidth)/2)),n=t.length-1;let r={current:0,next:1,prev:null};const o={start:0,current:0,last:0,y:scrollY};function i(){o.current<-50&&(r={current:t[r.next]?r.next:n,next:r.next===n||r.current===n?null:r.next+1,prev:r.current===n?n-1:r.current}),o.current>50&&(r={current:t[r.prev]?r.prev:0,next:0===r.current?r.next:r.current,prev:0===r.prev||0===r.current?null:r.prev-1});const i=t[r.current];o.last=-i,e.style.transform=`translate3d(${-i}px, 0, 0)`}function c(t){scrollY!==o.y&&(e.removeEventListener("touchmove",c),i());const n=t.changedTouches[0].clientX;o.current=n-o.start,e.style.transform=`translate3d(${o.last+o.current}px, 0, 0)`}e.addEventListener("touchstart",(function(t){const n=t.changedTouches[0].clientX;o.start=n,o.y=scrollY,e.addEventListener("touchmove",c)})),e.addEventListener("touchend",(function(){o.last=o.current+o.last,i(),e.removeEventListener("touchmove",c)}))}()})();